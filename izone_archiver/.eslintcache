[{"E:\\Projects\\izone_frontend\\izone_archiver\\src\\index.js":"1","E:\\Projects\\izone_frontend\\izone_archiver\\src\\App.js":"2","E:\\Projects\\izone_frontend\\izone_archiver\\src\\all_videos.js":"3"},{"size":219,"mtime":1610830154596,"results":"4","hashOfConfig":"5"},{"size":7820,"mtime":1618578039335,"results":"6","hashOfConfig":"5"},{"size":73168,"mtime":1618278345749,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"5xl9ef",{"filePath":"11","messages":"12","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13","usedDeprecatedRules":"10"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"E:\\Projects\\izone_frontend\\izone_archiver\\src\\index.js",[],["17","18"],"E:\\Projects\\izone_frontend\\izone_archiver\\src\\App.js",["19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35"],"import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport Moment from \"react-moment\";\nimport \"./App.css\";\nimport { video_meta } from \"./all_videos\";\nimport { Nav, Navbar } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"antd/dist/antd.css\";\nimport {\n  Layout,\n  Button,\n  Modal,\n  Tabs,\n  Row,\n  List,\n  Select,\n  DatePicker,\n  Dropdown,\n} from \"antd\";\nimport { DownOutlined } from \"@ant-design/icons\";\nimport logo from \"./logo.svg\";\nimport _ from \"lodash\";\nimport ReactPlayer from \"react-player\";\nconst { Header, Content } = Layout;\nconst { RangePicker } = DatePicker;\nconst { Option } = Select;\n\n//! https://betterprogramming.pub/how-to-hide-your-api-keys-c2b952bc07e6\n//! https://stackoverflow.com/questions/57358605/multiple-filters-in-react\n//TODO Get load more option working? or not\n\nconst apiKey = \"imgH1bubQ0uXiD8lJAHERB4O6073d513\";\n\nfunction combineMeta(data) {\n  let filteredData = data.map(({ svid, title, duration }) => {\n    return {\n      id: parseInt(title),\n      svid: svid,\n      duration: duration,\n    };\n  });\n  const mergedList = _.map(filteredData, function (item) {\n    return _.extend(item, _.find(video_meta, { id: item.id }));\n  });\n  // console.log(mergedList);\n  return mergedList;\n}\n\nfunction MuseEmbed({ svid }) {\n  return (\n    // <div>\n    //   <div\n    //     className=\"muse-video-player\"\n    //     data-video={svid}\n    //     data-search=\"0\"\n    //     data-logo=\"0\"\n    //     data-title=\"0\"\n    //     data-sizing=\"full\"\n    //   ></div>\n    //   <script src=\"https://muse.ai/static/js/embed-player.min.js\"></script>\n    // </div>\n    <iframe\n      src={`https://muse.ai/embed/${svid}?search=0&logo=0&title=0`}\n      // width=\"576\"\n      // height=\"324\"\n      frameBorder=\"0\"\n      allowFullScreen\n    ></iframe>\n  );\n}\n\nfunction Duration({ timestamp }) {\n  let h = Math.floor(timestamp / 3600);\n  let m = Math.floor((timestamp % 3600) / 60);\n  let s = Math.floor(timestamp % 60);\n  let hDisplay = h > 0 ? \"0\" + h + \":\" : \"\";\n  let mDisplay = m < 10 ? \"0\" + m + \":\" : m + \":\";\n  let sDisplay = s < 10 ? \"0\" + s : s;\n  return hDisplay + mDisplay + sDisplay;\n}\n\nfunction combineFilters(data, dateRange, sort, setListData) {\n  console.log(data, dateRange, sort);\n  //date comes first\n  if (dateRange != null) {\n    var dateFilteredListData = data.filter(function (item) {\n      if (\n        moment(item.date).isBetween(dateRange[0], dateRange[1], \"day\", \"[]\")\n      ) {\n        return true;\n      }\n    });\n    //sorting comes last\n    if (sort === \"asc\") {\n      //destructive, changes dateFilteredListData\n      var sortFilteredListData = dateFilteredListData.reverse();\n    } else {\n      var sortFilteredListData = dateFilteredListData;\n    }\n  } else {\n    if (sort === \"asc\") {\n      //destructive, changes dateFilteredListData\n      var sortFilteredListData = data.reverse();\n    } else {\n      var sortFilteredListData = data;\n    }\n  }\n  setListData(sortFilteredListData);\n}\n\nfunction onRangeChange(\n  value,\n  data,\n  setListData,\n  dateRange,\n  setDateRange,\n  sort\n) {\n  setDateRange(value);\n  // if (value == null) {\n  // RangePicker cleared\n  // setListData(data);\n  // setDateRange(null);\n  // } else {\n  // filter listData then setListData\n  // let filteredListData = data.filter(function (item) {\n  //   if (moment(item.date).isBetween(value[0], value[1])) {\n  //     return true;\n  //   }\n  // });\n  // setDateRange(filteredListData);\n  // setListData(filteredListData);\n  // }\n}\n\nexport default function App() {\n  const [listData, setListData] = useState([]);\n  const [data, setData] = useState([]);\n\n  const [dateRange, setDateRange] = useState(null);\n  const [sort, setSort] = useState(\"desc\");\n\n  const headers = {\n    Key: apiKey,\n  };\n\n  useEffect(() => {\n    axios\n      .get(\"https://muse.ai/api/files/videos\", { headers })\n      .then((response) => {\n        setListData(combineMeta(response.data));\n        setData(combineMeta(response.data));\n      });\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n        <Navbar.Brand href=\"/\">\n          <img src={logo} width=\"46\" height=\"44\" />\n        </Navbar.Brand>\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Nav.Link href=\"#donate\" style={{ color: \"white\" }}>\n            Donate\n          </Nav.Link>\n          <Nav.Link href=\"#contact\" style={{ color: \"white\" }}>\n            Contact\n          </Nav.Link>\n        </Navbar.Collapse>\n      </Navbar>\n      <div className=\"filter\">\n        <RangePicker\n          value={dateRange}\n          onChange={(value) => {\n            setDateRange(value);\n            combineFilters(data, value, sort, setListData);\n          }}\n        />\n        <Select\n          value={sort}\n          defaultValue=\"desc\"\n          onChange={(value) => {\n            setSort(value);\n            combineFilters(data, dateRange, value, setListData);\n          }}\n        >\n          <Option value=\"desc\">Most to least recent</Option>\n          <Option value=\"asc\">Least to most recent</Option>\n        </Select>\n      </div>\n      <div className=\"list\">\n        <List\n          itemLayout=\"vertical\"\n          size=\"large\"\n          pagination={{\n            onChange: (page) => {\n              console.log(page);\n            },\n            responsive: true,\n            // pageSize: 3,\n          }}\n          dataSource={listData}\n          renderItem={(item) => (\n            <List.Item key={item.id} extra={<MuseEmbed svid={item.svid} />}>\n              <List.Item.Meta\n                title={item.title}\n                description={\n                  <Moment local utc format=\"MMMM Do YYYY, h:mm:ss A\">\n                    {item.date}\n                  </Moment>\n                }\n              />\n              {<Duration timestamp={item.duration} />}\n            </List.Item>\n          )}\n        ></List>\n      </div>\n    </div>\n    // <div className=\"app\">\n    //   <Layout style={{ height: \"100vh\" }}>\n    //     <Header className=\"header\">\n    //       <div className=\"logo\" />\n    //       <Menu\n    //         theme=\"dark\"\n    //         selectable={false}\n    //         style={{ textAlign: \"right\" }}\n    //         mode=\"horizontal\"\n    //       >\n    //         <Menu.Item key=\"1\">1</Menu.Item>\n    //         <Menu.Item key=\"2\">2</Menu.Item>\n    //       </Menu>\n    //     </Header>\n    //     <Content style={{ padding: \"32px 50px\" }}>\n    //       <Layout\n    //         style={{\n    //           padding: \"24px 0\",\n    //           minHeight: \"500px\",\n    //           height: \"100%\",\n    //           overflowY: \"auto\",\n    //           backgroundColor: \"white\",\n    //         }}\n    //       >\n    //         <Content style={{ padding: \"0 24px\", minHeight: 280 }}>\n    //           <ReactPlayer\n    //             url={video_url}\n    //             controls\n    //             config={{\n    //               file: {\n    //                 attributes: {\n    //                   crossOrigin: \"true\",\n    //                 },\n    //                 tracks: [\n    //                   {\n    //                     kind: \"subtitles\",\n    //                     src: eng_sub,\n    //                     srcLang: \"en\",\n    //                     default: true,\n    //                   },\n    //                   { kind: \"subtitles\", src: kr_sub, srcLang: \"kr\" },\n    //                 ],\n    //               },\n    //             }}\n    //           />\n    //         </Content>\n    //       </Layout>\n    //     </Content>\n    //   </Layout>\n    // </div>\n  );\n}\n\n// https://www.npmjs.com/package/react-player\n//https://qiita.com/mehdi/items/95a250cd36fa11fd6856\n// https://www.channelape.com/uncategorized/host-images-amazon-s3-cheap-5-minutes/\n// https://www.youtube.com/watch?v=Wn0TtkoRx58\n","E:\\Projects\\izone_frontend\\izone_archiver\\src\\all_videos.js",[],["36","37"],{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","severity":1,"message":"43","line":12,"column":3,"nodeType":"44","messageId":"45","endLine":12,"endColumn":9},{"ruleId":"42","severity":1,"message":"46","line":13,"column":3,"nodeType":"44","messageId":"45","endLine":13,"endColumn":8},{"ruleId":"42","severity":1,"message":"47","line":14,"column":3,"nodeType":"44","messageId":"45","endLine":14,"endColumn":7},{"ruleId":"42","severity":1,"message":"48","line":15,"column":3,"nodeType":"44","messageId":"45","endLine":15,"endColumn":6},{"ruleId":"42","severity":1,"message":"49","line":19,"column":3,"nodeType":"44","messageId":"45","endLine":19,"endColumn":11},{"ruleId":"42","severity":1,"message":"50","line":21,"column":10,"nodeType":"44","messageId":"45","endLine":21,"endColumn":22},{"ruleId":"42","severity":1,"message":"51","line":24,"column":8,"nodeType":"44","messageId":"45","endLine":24,"endColumn":19},{"ruleId":"42","severity":1,"message":"52","line":25,"column":9,"nodeType":"44","messageId":"45","endLine":25,"endColumn":15},{"ruleId":"42","severity":1,"message":"53","line":25,"column":17,"nodeType":"44","messageId":"45","endLine":25,"endColumn":24},{"ruleId":"54","severity":1,"message":"55","line":63,"column":5,"nodeType":"56","endLine":69,"endColumn":6},{"ruleId":"57","severity":1,"message":"58","line":87,"column":44,"nodeType":"59","messageId":"60","endLine":87,"endColumn":53},{"ruleId":"61","severity":1,"message":"62","line":99,"column":11,"nodeType":"44","messageId":"63","endLine":99,"endColumn":31},{"ruleId":"61","severity":1,"message":"62","line":104,"column":11,"nodeType":"44","messageId":"63","endLine":104,"endColumn":31},{"ruleId":"61","severity":1,"message":"62","line":106,"column":11,"nodeType":"44","messageId":"63","endLine":106,"endColumn":31},{"ruleId":"42","severity":1,"message":"64","line":112,"column":10,"nodeType":"44","messageId":"45","endLine":112,"endColumn":23},{"ruleId":"65","severity":1,"message":"66","line":155,"column":6,"nodeType":"67","endLine":155,"endColumn":8,"suggestions":"68"},{"ruleId":"69","severity":1,"message":"70","line":161,"column":11,"nodeType":"56","endLine":161,"endColumn":52},{"ruleId":"38","replacedBy":"71"},{"ruleId":"40","replacedBy":"72"},"no-native-reassign",["73"],"no-negated-in-lhs",["74"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'Modal' is defined but never used.","'Tabs' is defined but never used.","'Row' is defined but never used.","'Dropdown' is defined but never used.","'DownOutlined' is defined but never used.","'ReactPlayer' is defined but never used.","'Header' is assigned a value but never used.","'Content' is assigned a value but never used.","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","JSXOpeningElement","array-callback-return","Array.prototype.filter() expects a value to be returned at the end of function.","FunctionExpression","expectedAtEnd","no-redeclare","'sortFilteredListData' is already defined.","redeclared","'onRangeChange' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'headers'. Either include it or remove the dependency array.","ArrayExpression",["75"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.",["73"],["74"],"no-global-assign","no-unsafe-negation",{"desc":"76","fix":"77"},"Update the dependencies array to be: [headers]",{"range":"78","text":"79"},[4013,4015],"[headers]"]